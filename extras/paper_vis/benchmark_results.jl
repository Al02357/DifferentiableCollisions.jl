#s btime_table = [NaN 6766.6 6383.4 4214.285714285715 5423.666666666667 6725.0 6141.6; 6625.0 NaN 11625.0 5562.5 6941.8 7781.25 12375.0; 6275.0 11708.0 NaN 4922.714285714285 7052.25 7073.0 13542.0; 4190.571428571428 5576.5 5023.857142857143 NaN 4148.857142857143 4809.571428571428 6508.4; 5416.666666666667 6950.0 7073.0 4095.285714285714 NaN 7739.75 10250.0; 6716.6 7760.5 7052.25 4744.0 7687.5 NaN 7552.0; 6108.4 12292.0 13500.0 6408.4 10250.0 7552.25 NaN]
# [NaN 6766.6 6383.4 4214.285714285715 5423.666666666667 6725.0 6141.6; 6625.0 NaN 11625.0 5562.5 6941.8 7781.25 12375.0; 6275.0 11708.0 NaN 4922.714285714285 7052.25 7073.0 13542.0; 4190.571428571428 5576.5 5023.857142857143 NaN 4148.857142857143 4809.571428571428 6508.4; 5416.666666666667 6950.0 7073.0 4095.285714285714 NaN 7739.75 10250.0; 6716.6 7760.5 7052.25 4744.0 7687.5 NaN 7552.0; 6108.4 12292.0 13500.0 6408.4 10250.0 7552.25 NaN]
# btime_table2 = [NaN 8041.666666666667 7916.75 5548.5 6550.0 8166.666666666667 7854.25; 8055.666666666667 NaN 13208.0 6858.2 7968.75 9125.0 14083.0; 7864.75 13292.0 NaN 6358.4 8278.0 8625.0 15417.0; 5506.833333333333 6900.0 6425.0 NaN 5083.333333333333 6058.2 8083.333333333333; 6550.0 7989.75 8305.666666666666 5055.5 NaN 8805.666666666666 11542.0; 8125.0 9125.0 8666.666666666666 5972.333333333333 8764.0 NaN 9208.0; 7822.75 14083.0 15542.0 8277.666666666666 11542.0 9208.0 NaN]
# [NaN 8041.666666666667 7916.75 5548.5 6550.0 8166.666666666667 7854.25; 8055.666666666667 NaN 13208.0 6858.2 7968.75 9125.0 14083.0; 7864.75 13292.0 NaN 6358.4 8278.0 8625.0 15417.0; 5506.833333333333 6900.0 6425.0 NaN 5083.333333333333 6058.2 8083.333333333333; 6550.0 7989.75 8305.666666666666 5055.5 NaN 8805.666666666666 11542.0; 8125.0 9125.0 8666.666666666666 5972.333333333333 8764.0 NaN 9208.0; 7822.75 14083.0 15542.0 8277.666666666666 11542.0 9208.0 NaN]



btime_table = [NaN 6625.0 6250.0 4208.428571428572 5423.666666666667 6716.8 6141.6; 6616.6 NaN 11584.0 5722.166666666667 6925.0 7760.5 12334.0; 6258.4 11667.0 NaN 4916.714285714285 7062.5 7062.5 13500.0; 4190.428571428572 5590.166666666667 5012.0 NaN 4131.0 4791.714285714285 6475.0; 5416.666666666667 6925.0 7062.5 4089.285714285714 NaN 6758.4 10250.0; 6716.6 7760.5 7052.25 4744.0 6700.0 NaN 7552.0; 6116.6 12292.0 13500.0 6400.0 10250.0 7552.0 NaN]
[NaN 6625.0 6250.0 4208.428571428572 5423.666666666667 6716.8 6141.6; 6616.6 NaN 11584.0 5722.166666666667 6925.0 7760.5 12334.0; 6258.4 11667.0 NaN 4916.714285714285 7062.5 7062.5 13500.0; 4190.428571428572 5590.166666666667 5012.0 NaN 4131.0 4791.714285714285 6475.0; 5416.666666666667 6925.0 7062.5 4089.285714285714 NaN 6758.4 10250.0; 6716.6 7760.5 7052.25 4744.0 6700.0 NaN 7552.0; 6116.6 12292.0 13500.0 6400.0 10250.0 7552.0 NaN]
btime_table2 = [NaN 8041.666666666667 7854.0 5520.833333333333 6533.4 8153.0 7843.75; 8041.666666666667 NaN 13208.0 6858.4 7968.75 9125.0 14083.0; 7864.75 13292.0 NaN 6350.0 8277.666666666666 8611.0 15458.0; 5486.166666666667 6891.6 6450.0 NaN 5083.333333333333 6058.4 8125.0; 6541.6 7989.5 8305.666666666666 5041.666666666667 NaN 7572.75 11542.0; 8138.666666666667 9084.0 8653.0 5965.333333333333 7521.0 NaN 9167.0; 7822.75 14042.0 15542.0 8263.666666666666 11542.0 9208.0 NaN]
[NaN 8041.666666666667 7854.0 5520.833333333333 6533.4 8153.0 7843.75; 8041.666666666667 NaN 13208.0 6858.4 7968.75 9125.0 14083.0; 7864.75 13292.0 NaN 6350.0 8277.666666666666 8611.0 15458.0; 5486.166666666667 6891.6 6450.0 NaN 5083.333333333333 6058.4 8125.0; 6541.6 7989.5 8305.666666666666 5041.666666666667 NaN 7572.75 11542.0; 8138.666666666667 9084.0 8653.0 5965.333333333333 7521.0 NaN 9167.0; 7822.75 14042.0 15542.0 8263.666666666666 11542.0 9208.0 NaN]

# mean(btime_table,dims = 1)

function nan_mean(B)
    r,c = size(B)
    m = zeros(r)
    for i = 1:r
        for j = 1:c
            if !isnan(B[i,j])
                m[i] += (1/(c-1))*B[i,j]
            end
        end
    end
    m
end

b1 =  round.(nan_mean(btime_table)/1e3, digits = 3)
b2 = round.(nan_mean(btime_table2)/1e3, digits = 3)

@show b1
@show b2
@show b2 - b1
